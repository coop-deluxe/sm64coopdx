#include <ultra64.h>
#include "sm64.h"
#include "behavior_data.h"
#include "model_ids.h"
#include "seq_ids.h"
#include "dialog_ids.h"
#include "segment_symbols.h"
#include "level_commands.h"
#include "game/level_update.h"
#include "levels/scripts.h"
#include "actors/common1.h"
#include "make_const_nonconst.h"

#include "areas/1/custom.model.inc.h"
#include "levels/hmc/header.h"
extern u8 _hmc_segment_ESegmentRomStart[]; 
extern u8 _hmc_segment_ESegmentRomEnd[];
#include "levels/jrb/header.h"
const LevelScript level_hmc_entry[] = {
INIT_LEVEL(),
LOAD_MIO0(0x07, _jrb_segment_7SegmentRomStart, _jrb_segment_7SegmentRomEnd),
LOAD_MIO0_TEXTURE(/*seg*/ 0x09, _water_mio0SegmentRomStart, _water_mio0SegmentRomEnd),
LOAD_RAW(0x1A, _jrbSegmentRomStart, _jrbSegmentRomEnd),
LOAD_RAW(0x0E, _hmc_segment_ESegmentRomStart, _hmc_segment_ESegmentRomEnd),
LOAD_MIO0(0xA,_SkyboxCustom22380224_skybox_mio0SegmentRomStart,_SkyboxCustom22380224_skybox_mio0SegmentRomEnd),
LOAD_MIO0(8,_common0_mio0SegmentRomStart,_common0_mio0SegmentRomEnd),
LOAD_RAW(15,_common0_geoSegmentRomStart,_common0_geoSegmentRomEnd),
LOAD_MIO0(5,_group4_mio0SegmentRomStart,_group4_mio0SegmentRomEnd),
LOAD_RAW(12,_group4_geoSegmentRomStart,_group4_geoSegmentRomEnd),
LOAD_MIO0(6,_group13_mio0SegmentRomStart,_group13_mio0SegmentRomEnd),
LOAD_RAW(13,_group13_geoSegmentRomStart,_group13_geoSegmentRomEnd),
ALLOC_LEVEL_POOL(),
MARIO(/*model*/ MODEL_MARIO, /*behParam*/ 0x00000001, /*beh*/ bhvMario),
LOAD_MODEL_FROM_GEO(MODEL_JRB_SHIP_LEFT_HALF_PART,  jrb_geo_000978),
    LOAD_MODEL_FROM_GEO(MODEL_JRB_SHIP_BACK_LEFT_PART,  jrb_geo_0009B0),
    LOAD_MODEL_FROM_GEO(MODEL_JRB_SHIP_RIGHT_HALF_PART, jrb_geo_0009E8),
    LOAD_MODEL_FROM_GEO(MODEL_JRB_SHIP_BACK_RIGHT_PART, jrb_geo_000A00),
    LOAD_MODEL_FROM_GEO(MODEL_JRB_SUNKEN_SHIP,          jrb_geo_000990),
    LOAD_MODEL_FROM_GEO(MODEL_JRB_SUNKEN_SHIP_BACK,     jrb_geo_0009C8),
    LOAD_MODEL_FROM_GEO(MODEL_JRB_ROCK,                 jrb_geo_000930),
    LOAD_MODEL_FROM_GEO(MODEL_JRB_SLIDING_BOX,          jrb_geo_000960),
    LOAD_MODEL_FROM_GEO(MODEL_JRB_FALLING_PILLAR,       jrb_geo_000900),
    LOAD_MODEL_FROM_GEO(MODEL_JRB_FALLING_PILLAR_BASE,  jrb_geo_000918),
    LOAD_MODEL_FROM_GEO(MODEL_JRB_FLOATING_PLATFORM,    jrb_geo_000948),
LOAD_MODEL_FROM_GEO(22, warp_pipe_geo),
LOAD_MODEL_FROM_GEO(23, bubbly_tree_geo),
LOAD_MODEL_FROM_GEO(24, spiky_tree_geo),
LOAD_MODEL_FROM_GEO(25, snow_tree_geo),
LOAD_MODEL_FROM_GEO(31, metal_door_geo),
LOAD_MODEL_FROM_GEO(32, hazy_maze_door_geo),
LOAD_MODEL_FROM_GEO(34, castle_door_0_star_geo),
LOAD_MODEL_FROM_GEO(35, castle_door_1_star_geo),
LOAD_MODEL_FROM_GEO(36, castle_door_3_star_geo),
LOAD_MODEL_FROM_GEO(37, key_door_geo),
LOAD_MODEL_FROM_GEO(38, castle_door_geo),
// LOAD_MODEL_FROM_GEO(84,0x05008d14),
// LOAD_MODEL_FROM_DL(87,0x05013cb8,4),
// LOAD_MODEL_FROM_DL(132,0x08025f08,4),
// LOAD_MODEL_FROM_DL(158,0x0302c8a0,4),
// LOAD_MODEL_FROM_DL(159,0x0302bcd0,4),
// LOAD_MODEL_FROM_DL(161,0x0301cb00,4),
// LOAD_MODEL_FROM_DL(164,0x04032a18,4),
// LOAD_MODEL_FROM_DL(201,0x080048e0,4),
// LOAD_MODEL_FROM_DL(218,0x08024bb8,4),
JUMP_LINK(script_func_global_1),
JUMP_LINK(script_func_global_5),
JUMP_LINK(script_func_global_14),
JUMP_LINK(local_area_hmc_1_),
FREE_LEVEL_POOL(),
MARIO_POS(1,205,546,4125,3656),
CALL(/*arg*/ 0, /*func*/ lvl_init_or_update),
CALL_LOOP(/*arg*/ 1, /*func*/ lvl_init_or_update),
CLEAR_LEVEL(),
SLEEP_BEFORE_EXIT(/*frames*/ 1),
EXIT(),
};
const LevelScript local_area_hmc_1_[] = {
AREA(1,Geo_hmc_1_0x14a1700),
TERRAIN(col_hmc_1_0xe048a28),
SET_BACKGROUND_MUSIC(0,35),
TERRAIN_TYPE(0),
JUMP_LINK(local_objects_hmc_1_),
JUMP_LINK(local_warps_hmc_1_),
END_AREA(),
RETURN()
};
const LevelScript local_objects_hmc_1_[] = {
OBJECT_WITH_ACTS(0,546,4125,3656,0,205,0,0xa0000, bhvSpinAirborneWarp,63),
OBJECT_WITH_ACTS(23,-1027,3473,4740,0,-154,0,0x0, bhvTree,63),
OBJECT_WITH_ACTS(23,-2381,2914,-2745,0,5,0,0x0, bhvTree,63),
OBJECT_WITH_ACTS(23,-523,3153,3348,0,107,0,0x0, bhvTree,63),
OBJECT_WITH_ACTS(23,1072,3480,5753,0,-151,0,0x0, bhvTree,63),
OBJECT_WITH_ACTS(23,577,3480,6326,0,0,0,0x0, bhvTree,63),
OBJECT_WITH_ACTS(23,-1986,3020,649,0,0,0,0x0, bhvTree,63),
OBJECT_WITH_ACTS(215,-1895,1538,-1095,0,0,0,0x0, bhvRedCoin,63),
OBJECT_WITH_ACTS(192,4265,2973,4936,0,0,0,0x0, bhvGoomba,61),
OBJECT_WITH_ACTS(215,-2110,-1206,-6794,0,0,0,0x0, bhvRedCoin,63),
OBJECT_WITH_ACTS(215,2227,-3550,4304,0,0,0,0x0, bhvRedCoin,63),
OBJECT_WITH_ACTS(215,2234,-2252,1089,0,0,0,0x0, bhvRedCoin,63),
OBJECT_WITH_ACTS(215,-2286,-892,-1539,0,0,0,0x0, bhvRedCoin,63),
OBJECT_WITH_ACTS(215,-1235,-373,-420,0,0,0,0x0, bhvRedCoin,63),
OBJECT_WITH_ACTS(215,-2776,-1487,1702,0,0,0,0x0, bhvRedCoin,63),
OBJECT_WITH_ACTS(61,3389,2954,1653,0,180,0,0x0, bhvFallingPillar,61),
OBJECT_WITH_ACTS(61,5905,2954,1185,0,180,0,0x0, bhvFallingPillar,61),
OBJECT_WITH_ACTS(61,5408,2954,2195,0,180,0,0x0, bhvFallingPillar,61),
OBJECT_WITH_ACTS(61,3216,2954,2850,0,180,0,0x0, bhvFallingPillar,61),
OBJECT_WITH_ACTS(61,5499,2954,3204,0,180,0,0x0, bhvFallingPillar,61),
OBJECT_WITH_ACTS(63,3530,2803,-643,0,0,0,0x0, bhvJrbFloatingPlatform,63),
OBJECT_WITH_ACTS(215,-3929,-893,5755,0,0,0,0x0, bhvRedCoin,63),
OBJECT_WITH_ACTS(63,3708,2803,-2150,0,344,0,0x0, bhvJrbFloatingPlatform,63),
OBJECT_WITH_ACTS(0,1953,-1128,1673,0,90,0,0x0, bhvCoinFormation,63),
OBJECT_WITH_ACTS(122,7518,-7047,-722,0,0,0,0x0, bhvStar,63),
OBJECT_WITH_ACTS(195,2451,4166,-4928,0,166,0,0x0, bhvBobombBuddyOpensCannon,63),
OBJECT_WITH_ACTS(122,731,2938,-6755,0,0,0,0x2000000, bhvStar,63),
OBJECT_WITH_ACTS(122,-386,-5408,-2365,0,0,0,0x3000000, bhvStar,8),
OBJECT_WITH_ACTS(122,5506,-2751,-148,0,0,0,0x5000000, bhvStar,63),
OBJECT_WITH_ACTS(0,-3077,794,8022,0,180,0,0x0, bhvTreasureChests,63),
OBJECT_WITH_ACTS(0,2252,-1738,1273,0,0,0,0x4000000, bhvHiddenRedCoinStar,63),
OBJECT_WITH_ACTS(137,-6054,3542,-5963,0,180,0,0x10a0000, bhvExclamationBox,63),
OBJECT_WITH_ACTS(0,32,-1142,1964,0,0,0,0x10000, bhvFish3,63),
OBJECT_WITH_ACTS(0,-3940,-794,5756,0,180,0,0x0, bhvChirpChirp,63),
OBJECT_WITH_ACTS(168,2259,-1358,-1420,0,0,0,0x0, bhvSMSRRecoveryBubbleWater,63),
OBJECT_WITH_ACTS(168,-1819,-1133,2064,0,0,0,0x0, bhvSMSRRecoveryBubbleWater,63),
OBJECT_WITH_ACTS(168,4521,-6273,3409,0,0,0,0x0, bhvSMSRRecoveryBubbleWater,63),
OBJECT_WITH_ACTS(168,5480,-2835,-642,0,0,0,0x0, bhvSMSRRecoveryBubbleWater,63),
OBJECT_WITH_ACTS(168,-1699,-677,-5101,0,0,0,0x0, bhvSMSRRecoveryBubbleWater,63),
OBJECT_WITH_ACTS(201,5221,2911,-4899,0,270,0,0x6e0000, bhvCannonClosed,63),
OBJECT_WITH_ACTS(179,-608,-5491,2863,0,0,0,0x0, bhvBowserBomb,8),
OBJECT_WITH_ACTS(179,-236,-5357,2329,0,0,0,0x0, bhvBowserBomb,8),
OBJECT_WITH_ACTS(179,-607,-5199,1980,0,0,0,0x0, bhvBowserBomb,8),
OBJECT_WITH_ACTS(179,-440,-5668,2287,0,0,0,0x0, bhvBowserBomb,8),
OBJECT_WITH_ACTS(179,-228,-5616,1419,0,0,0,0x0, bhvBowserBomb,8),
OBJECT_WITH_ACTS(179,248,-5408,1186,0,0,0,0x0, bhvBowserBomb,8),
OBJECT_WITH_ACTS(179,550,-5356,1443,0,0,0,0x0, bhvBowserBomb,8),
OBJECT_WITH_ACTS(179,1310,-5668,1188,0,0,0,0x0, bhvBowserBomb,8),
OBJECT_WITH_ACTS(179,1720,-5408,1302,0,0,0,0x0, bhvBowserBomb,8),
OBJECT_WITH_ACTS(179,1647,-5616,749,0,0,0,0x0, bhvBowserBomb,8),
OBJECT_WITH_ACTS(179,1489,-5304,190,0,0,0,0x0, bhvBowserBomb,8),
OBJECT_WITH_ACTS(179,1742,-5460,-88,0,0,0,0x0, bhvBowserBomb,8),
OBJECT_WITH_ACTS(179,1656,-5095,899,0,0,0,0x0, bhvBowserBomb,8),
OBJECT_WITH_ACTS(179,681,-5147,1273,0,0,0,0x0, bhvBowserBomb,8),
OBJECT_WITH_ACTS(179,1475,-5512,-471,0,0,0,0x0, bhvBowserBomb,8),
OBJECT_WITH_ACTS(179,1726,-5668,-986,0,0,0,0x0, bhvBowserBomb,8),
OBJECT_WITH_ACTS(59,837,4854,-6041,0,0,0,0x0, bhvSMSRBreakableFloor,63),
OBJECT_WITH_ACTS(59,737,3954,-6032,0,0,0,0x0, bhvSMSRBreakableFloor,63),
OBJECT_WITH_ACTS(59,38,3954,-6032,0,0,0,0x0, bhvSMSRBreakableFloor,63),
OBJECT_WITH_ACTS(179,1327,-5199,-864,0,0,0,0x0, bhvBowserBomb,8),
OBJECT_WITH_ACTS(179,1094,-5616,-1134,0,0,0,0x0, bhvBowserBomb,8),
OBJECT_WITH_ACTS(179,259,-5564,-898,0,0,0,0x0, bhvBowserBomb,8),
OBJECT_WITH_ACTS(179,444,-5095,-986,0,0,0,0x0, bhvBowserBomb,8),
OBJECT_WITH_ACTS(179,438,-5356,-1189,0,0,0,0x0, bhvBowserBomb,8),
OBJECT_WITH_ACTS(179,-11,-5304,-892,0,0,0,0x0, bhvBowserBomb,8),
OBJECT_WITH_ACTS(179,-272,-5408,-1125,0,0,0,0x0, bhvBowserBomb,8),
OBJECT_WITH_ACTS(179,-366,-5564,-781,0,0,0,0x0, bhvBowserBomb,8),
OBJECT_WITH_ACTS(179,-324,-5095,-1629,0,0,0,0x0, bhvBowserBomb,8),
OBJECT_WITH_ACTS(179,-423,-5616,-1392,0,0,0,0x0, bhvBowserBomb,8),
OBJECT_WITH_ACTS(179,-587,-5512,-2111,0,0,0,0x0, bhvBowserBomb,8),
OBJECT_WITH_ACTS(179,-205,-5512,-1896,0,0,0,0x0, bhvBowserBomb,8),
OBJECT_WITH_ACTS(59,737,3054,-6032,0,0,0,0x0, bhvSMSRBreakableFloor,63),
OBJECT_WITH_ACTS(59,38,3054,-6032,0,0,0,0x0, bhvSMSRBreakableFloor,63),
OBJECT_WITH_ACTS(59,737,3054,-6771,0,0,0,0x0, bhvSMSRBreakableFloor,63),
OBJECT_WITH_ACTS(179,-2582,-598,-5933,0,90,0,0x0, bhvSMSRBulletMine,63),
OBJECT_WITH_ACTS(179,-2283,-847,-1235,0,180,0,0x0, bhvSMSRBulletMine,63),
OBJECT_WITH_ACTS(179,-1138,-534,-1744,0,180,0,0x0, bhvSMSRBulletMine,63),
OBJECT_WITH_ACTS(179,3987,-5616,1490,0,0,0,0x0, bhvSMSRBulletMine,63),
OBJECT_WITH_ACTS(179,5793,-6655,-96,0,0,0,0x0, bhvSMSRBulletMine,63),
OBJECT_WITH_ACTS(179,6320,-6345,2192,0,270,0,0x0, bhvSMSRBulletMine,63),
OBJECT_WITH_ACTS(0,880,1090,-2798,0,0,0,0x0, bhvChirpChirp,63),
OBJECT_WITH_ACTS(88,5209,-1935,-2117,0,301,0,0x0, bhvClamShell,63),
OBJECT_WITH_ACTS(0,-1945,-4277,3970,0,0,0,0x110000, bhvCoinFormation,63),
OBJECT_WITH_ACTS(0,671,-631,-5807,0,0,0,0x0, bhvChirpChirp,63),
OBJECT_WITH_ACTS(0,761,-5631,3981,0,0,0,0x0, bhvChirpChirp,63),
OBJECT_WITH_ACTS(0,-2659,-473,-4306,0,90,0,0x0, bhvCoinFormation,63),
OBJECT_WITH_ACTS(0,1701,-1936,-733,0,0,0,0x0, bhvSeaweedBundle,63),
OBJECT_WITH_ACTS(0,4678,-1936,-2449,0,0,0,0x0, bhvSeaweedBundle,61),
OBJECT_WITH_ACTS(0,4237,-1936,-431,0,0,0,0x0, bhvSeaweedBundle,61),
OBJECT_WITH_ACTS(0,-1482,-2367,-4731,0,0,0,0x0, bhvSeaweedBundle,63),
OBJECT_WITH_ACTS(0,-2244,-2387,-606,0,0,0,0x0, bhvSeaweedBundle,63),
OBJECT_WITH_ACTS(0,-2828,-2283,4530,0,0,0,0x0, bhvSeaweedBundle,63),
OBJECT_WITH_ACTS(0,998,-2231,1479,0,0,0,0x0, bhvSeaweedBundle,63),
OBJECT_WITH_ACTS(0,-1236,-2335,2596,0,0,0,0x0, bhvSeaweedBundle,63),
OBJECT_WITH_ACTS(137,4045,3234,5688,0,0,0,0x60000, bhvExclamationBox,63),
OBJECT_WITH_ACTS(0,3459,-7347,1471,0,0,0,0x0, bhvSeaweedBundle,61),
OBJECT_WITH_ACTS(0,4623,-7352,4610,0,0,0,0x0, bhvSeaweedBundle,61),
OBJECT_WITH_ACTS(0,6045,-7352,2342,0,0,0,0x0, bhvSeaweedBundle,61),
OBJECT_WITH_ACTS(0,5739,-7352,-560,0,0,0,0x0, bhvSeaweedBundle,1),
OBJECT_WITH_ACTS(0,7679,-7352,108,0,0,0,0x0, bhvSeaweedBundle,1),
OBJECT_WITH_ACTS(220,-5823,3136,-3337,0,7,0,0x10000, bhvFlyGuy,2),
OBJECT_WITH_ACTS(220,-5845,3097,6461,0,198,0,0x10000, bhvFlyGuy,2),
OBJECT_WITH_ACTS(0,-2800,2990,-1125,0,0,0,0x0, bhvGoombaTripletSpawner,63),
OBJECT_WITH_ACTS(192,6294,3373,4974,0,0,0,0x0, bhvGoomba,61),
OBJECT_WITH_ACTS(0,3906,2880,-5391,0,0,0,0x0, bhvGoombaTripletSpawner,63),
OBJECT_WITH_ACTS(0,4248,2873,2445,0,0,0,0x0, bhvGoombaTripletSpawner,63),
OBJECT_WITH_ACTS(194,5887,3853,-6144,0,0,0,0x0, bhvHomingAmp,63),
OBJECT_WITH_ACTS(88,4825,-1935,-70,0,203,0,0x0, bhvClamShell,63),
OBJECT_WITH_ACTS(0,4128,-199,-1337,0,0,0,0x0, bhvChirpChirp,63),
OBJECT_WITH_ACTS(0,4588,845,-945,0,0,0,0x0, bhvFish3,63),
OBJECT_WITH_ACTS(0,2487,636,-5854,0,0,0,0x110000, bhvCoinFormation,63),
OBJECT_WITH_ACTS(105,-4901,2818,1835,0,0,0,0x0, bhvSkeeter,61),
OBJECT_WITH_ACTS(0,2016,-2647,2989,0,0,0,0x0, bhvFish2,63),
OBJECT_WITH_ACTS(59,38,3054,-6771,0,0,0,0x0, bhvSMSRBreakableFloor,63),
OBJECT_WITH_ACTS(59,-622,-5105,3275,90,0,0,0x0, bhvSMSRBreakableFloor,55),
OBJECT_WITH_ACTS(220,-4587,3188,2850,0,69,0,0x10000, bhvFlyGuy,2),
OBJECT_WITH_ACTS(0,3678,3866,-7053,0,90,0,0x0, bhvCoinFormation,63),
OBJECT_WITH_ACTS(0,2658,4166,-5968,0,349,0,0x0, bhvCoinFormation,63),
OBJECT_WITH_ACTS(0,5888,3853,-6138,0,0,0,0x20000, bhvCoinFormation,63),
OBJECT_WITH_ACTS(0,3116,-5976,2357,0,90,0,0x0, bhvCoinFormation,63),
OBJECT_WITH_ACTS(87,-1235,-1284,-420,0,0,0,0x0, bhvWhirlpool,63),
OBJECT_WITH_ACTS(137,6080,3067,-292,0,0,0,0x10000, bhvExclamationBox,63),
OBJECT_WITH_ACTS(0,3527,2924,-405,90,180,0,0x110000, bhvCoinFormation,63),
OBJECT_WITH_ACTS(190,5209,-1935,-2117,0,301,0,0x0, bhvKoopaShellUnderwater,63),
OBJECT_WITH_ACTS(105,-4035,2818,-4268,0,0,0,0x0, bhvSkeeter,61),
OBJECT_WITH_ACTS(59,-22,-5105,3275,90,0,0,0x0, bhvSMSRBreakableFloor,55),
OBJECT_WITH_ACTS(0,850,1105,-4222,0,0,0,0x110000, bhvCoinFormation,63),
OBJECT_WITH_ACTS(59,-622,-5704,3275,90,0,0,0x0, bhvSMSRBreakableFloor,55),
OBJECT_WITH_ACTS(105,4463,2818,-1208,0,0,0,0x0, bhvSkeeter,61),
OBJECT_WITH_ACTS(0,-1914,-2296,-5768,0,0,0,0x0, bhvCoinFormation,63),
OBJECT_WITH_ACTS(137,412,3733,5924,0,0,0,0x60000, bhvExclamationBox,63),
OBJECT_WITH_ACTS(53,-2504,2856,3427,0,308,0,0x30000, bhvSMSRBoatOnTrack,2),
OBJECT_WITH_ACTS(59,-22,-5704,3275,90,0,0,0x0, bhvSMSRBreakableFloor,55),
OBJECT_WITH_ACTS(129,6575,2874,-5290,0,0,0,0x10000, bhvBreakableBox,63),
OBJECT_WITH_ACTS(118,2853,3691,-4848,0,0,0,0x0, bhvHiddenBlueCoin,63),
OBJECT_WITH_ACTS(118,3221,3691,-6513,0,0,0,0x0, bhvHiddenBlueCoin,63),
OBJECT_WITH_ACTS(118,4125,3691,-6513,0,0,0,0x0, bhvHiddenBlueCoin,63),
OBJECT_WITH_ACTS(118,3225,3691,-6772,0,0,0,0x0, bhvHiddenBlueCoin,63),
OBJECT_WITH_ACTS(140,3397,2874,-4660,0,0,0,0x0, bhvBlueCoinSwitch,63),
OBJECT_WITH_ACTS(0,4248,-5641,2792,0,0,0,0x0, bhvLargeFishGroup,63),
RETURN()
};
const LevelScript local_warps_hmc_1_[] = {
WARP_NODE(10,9,1,10,0),
WARP_NODE(11,9,1,12,0),
WARP_NODE(12,9,1,11,0),
WARP_NODE(13,9,1,14,0),
WARP_NODE(14,9,1,13,0),
WARP_NODE(240,26,1,21,0),
WARP_NODE(241,26,1,22,0),
WARP_NODE(0,9,1,10,0),
WARP_NODE(1,9,1,10,0),
WARP_NODE(2,9,1,10,0),
WARP_NODE(3,9,1,10,0),
WARP_NODE(4,9,1,10,0),
WARP_NODE(5,9,1,10,0),
WARP_NODE(6,9,1,10,0),
RETURN()
};
